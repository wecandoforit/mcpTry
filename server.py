rule = "结婚"


def encrypt_text(text):
    """
    将文本加密为"结婚"编码
    规则：结=1, 婚=0

    参数:
        text: 要加密的文本字符串

    返回:
        加密后的字符串（由"结"和"婚"组成）
    """
    if not isinstance(text, str):
        raise TypeError("输入必须是字符串类型")

    # 将文本转换为UTF-8字节序列
    bytes_data = text.encode('utf-8')

    # 将每个字节转换为8位二进制
    binary_str = ''.join(format(byte, '08b') for byte in bytes_data)

    # 将二进制转换为"结婚"编码
    encrypted = binary_str.replace('1', rule[0]).replace('0', rule[1])

    return encrypted


def decrypt_text(encrypted):
    """
    将"结婚"编码解密为原文本
    规则：结=1, 婚=0

    参数:
        encrypted: 加密后的字符串（由"结"和"婚"组成）

    返回:
        解密后的原始文本
    """
    if not isinstance(encrypted, str) or len(encrypted) < 1:
        raise ValueError("加密文本必须是非空字符串")

    # 将"结婚"编码转换为二进制
    binary_str = encrypted.replace(rule[0], '1').replace(rule[1], '0')

    # 将二进制转换回字节
    bytes_data = []
    for i in range(0, len(binary_str), 8):
        byte = binary_str[i:i+8]
        if len(byte) == 8:  # 确保是完整的字节
            bytes_data.append(int(byte, 2))

    # 将字节序列解码为UTF-8文本
    try:
        return bytes(bytes_data).decode('utf-8')
    except UnicodeDecodeError:
        raise ValueError("解码失败，请检查加密数据是否完整")

# 使用示例
if __name__ == "__main__":
    # 测试加密
    original_text = '''以前总怪父母那么努力还没让我过好日子，直到自己扛起养家的担子才懂：成年人的世界，光是活着，就已经要拼尽全力。
小时候我就知道家里很穷，穷到什么程度呢？小时候总会有邻居家的叔叔阿姨问：你想不想自己的爸妈呀？说实话，就是一直跟着爷爷奶奶生活，一年也没见过爸妈几次，谈不上想与不想。
日子苦到放学要割猪草、下雨要光脚回家，有时候也会抱怨父母外出打工不陪我、没给我好生活。
直到我自己现在成为了妈妈，才突然读懂原来他们拼尽所有，也只够后给我勉强的生活件。
那时候的我，是典型的留守儿童。从记事起，爸妈就在外地打工，家里只剩我和爷爷奶奶和姐姐妹妹。童年没有玩具也没有零食，只有干不完的农活和数不尽的窘迫。
每天放学后，第一件事不是写作业，而是拿着竹筐去割猪草，直到割满一筐，才急冲冲地回家。周末也是要么帮着喂猪喂鸡，要么跟着奶奶去地里锄草，裤脚永远沾满泥土，鞋子上全是泥点，童年基本上就是玩泥巴度过的。
鞋子的窘迫，更是刻在骨子里的记忆。一年四季就两双拿得出手的鞋：一双单鞋，一双棉鞋。每周五放学，我都要把单鞋洗干净，晾在风最大的地方，盼着鞋子快点干，生怕周一穿不上干鞋。
那时候村里没有水泥路，全是坑坑洼洼的土路，最不喜欢的就是下雨天。一旦下雨，路面又湿又滑，鞋子碰到水就湿透了。为了不让鞋子湿掉，下雨天直接把鞋子脱下来揣在怀里，光着脚往家走，脚底被石子硌得生疼，也顾不上了，比起冻脚，更怕鞋子坏了再也没得穿。
而小时候的愿望就是去照相馆拍照片，看着邻居家小朋友有自己的照片就特别羡慕。直到五年级那年，叔叔让婶婶给他寄一张堂妹的照片，婶婶就把我们姐妹几个，特意带去镇上的照相馆拍了一张合照，那是我童年唯一一张在照相馆拍的照片，照片上的我们穿着洗得发白的衣服，头发梳得整整齐齐，笑得格外灿烂。
总以为等爸妈挣够钱了，就能经常带我拍照，后来才知道，他们连自己的生活费都要省着花，根本没多余的钱满足我。
那时候的我，不懂为什么爸妈一年到头不回家，不懂为什么我们家总是比别人穷，不懂为什么他们不能像别的父母一样陪在我身边。甚至偶尔会偷偷抱怨：为什么别人的爸妈有本事，能给孩子好生活，而我的爸妈却只能让我过苦日子？有时候顺嘴跟爸妈说这些时，他们都会瞬间变脸色，那时候不懂这份情绪背后的心情，直到自己成家生子，才突然恍然大悟。
如今自己成了妈妈，才懂当年父母的难有多沉。每天照顾11个月的宝宝，熬到深夜喂完奶，还要打开电脑写自媒体，每月账单接踵而至，奶粉、尿不湿、家用，几千块钱转眼就花光，明明没闲着，却总怕赚不够钱给宝宝好生活。
以前上班时，早出晚归、节假日无休，扛着业绩压力，拼命工作，8年熬过来不敢有丝毫懈怠，可即便如此，失业后还是瞬间陷入迷茫焦虑。
那天给宝宝买奶粉，看着结账时的账单，突然想起小时候爸妈过年给我买新衣服的场景。他们在外省吃俭用，把攒下来的钱全寄回家，自己舍不得买一件新衣服，却愿意把最好的都给我们姐妹。
现在回想起爸妈在外打工的辛苦，我抱怨没新衣服穿，他们却在工地里、工厂里拼尽全力，只为让我少吃点苦；我盼着他们陪伴，他们却要先赚钱养家，才能谈陪伴的奢侈。
成年人的世界，从来没有两全其美。
小时候总以为，日子苦是因为爸妈不够努力；长大后才懂，穷从来不是因为不努力，而是谋生本来就是一场艰难的战役。
当年靠着爸妈撑起一个家，养活我和姐姐还有爷爷奶奶，已经拼尽了所有力气。
以前总盼着长大，以为长大就能逃离苦日子，就能给家人好生活。如今才懂，成年人的世界，从来就不容易。光是带好宝宝、做好事业、撑起小家，就已经要拼尽全力。那些当年觉得父母不够好的地方，全是他们用汗水和辛苦换来的。
现在的我，不再追求大富大贵，只愿宝宝健康成长，家人平安顺遂。自己能在自媒体路上慢慢努力，既能陪伴宝宝，也能实现自我价值，把当年父母没享过的福，一点点补回来。
或许我们都是普通人，拼尽全力也只是过着平凡的日子。
原来长大后的我们，终究会活成父母当年的样子，一边为生活奔波劳碌，一边拼尽全力给家人最好的生活。
也终于读懂，父母当年的穷，藏着我没见过的拼尽全力；他们当年的爱，比我想象中更沉重、更伟大。'''
    print(f"原文: {original_text}")
    
    # 加密
    encrypted = encrypt_text(original_text)
    print(f"加密后: {encrypted}")
    print(f"加密长度: {len(encrypted)} 字符")
    
    # 解密
    decrypted = decrypt_text(encrypted)
    print(f"解密后: {decrypted}")
    
    # 验证
    print(f"\n验证: {original_text == decrypted}")
    
    # 更多测试
    print("\n" + "="*50)
    test_cases = ["结婚", "Python编程", "123456", "https://blog.csdn.net/2401_84494441/article/details/148765943"]
    for test in test_cases:
        enc = encrypt_text(test)
        dec = decrypt_text(enc)
        print(f"{test} -> 长度{len(enc)} -> {dec} ({'✓' if test == dec else '✗'})")